<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>

  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>


  <script type="text/javascript" src="js/jquery-1.8.2.js"></script>
  <script type="text/javascript" src="js/bootstrap.js"></script>
  <script type="text/javascript" src="js/bootstrap-datetimepicker.min.js"> </script>
  <script type="text/javascript" src="js/bootstrap-datetimepicker.pt-BR.js"> </script>
  <script type="text/javascript" src="js/bootstrap-typeahead.js"> </script>
  
  <link rel="stylesheet" href="css/prueba.css" type="text/css" />
  <link rel="stylesheet" href="css/bootstrap.css" type="text/css"/>
  <link rel="stylesheet" href="css/bootstrap-modal.css" type="text/css"/>
  <link rel="stylesheet" type="text/css" media="screen" href="css/bootstrap-datetimepicker.min.css">
  
  <title>TweetCaracas</title>
  <style>
  body{
    background-color:#FFF;
    background-position: center 50px;
    background-size: 342px 473px;
  }
  </style>
  
  <!-- Responsive Layout -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link href="assets/css/bootstrap-responsive.css" rel="stylesheet"/>
</head>

<body>
  <div id="phoneBorder">
    <div class="navbar navbar-inverse">
      <div class="navbar-inner">
       <a class="brand" href="#" style="padding: 0px; padding-left: 20px;">
        <img id="logo" src="images/imported/LOGOOO.png"/>
      </a>
<!--       <span style="padding-left: 10px;color:white;font-size:large;line-height:38px;">Columnas</span> -->
      <ul class="nav" style="float: right;">
        <li><a href="personalizar_columna.html"><i class="icon-indent-left icon-white"></i></a></li>
        <li><a href="reportes.html"><i class="icon-signal icon-white"></i></a></li>
        <li><a href="settings.html"><i class="icon-wrench icon-white"></i></a></li>
        <li><a href="#dm" data-toggle="modal"><i class="icon-envelope icon-white"></i></a></li>
        <li><a href="#responsive" data-toggle="modal"><i class="icon-edit icon-white"></i></a></li>
      </ul>
    </div>
    
    <form class="form-search" style="float:right; padding-right:10px; padding-top:5px; margin-bottom:5px">
      <input id="searchbar" placeholder="Buscar" type="text" class="input-medium search-query" style="width:260px" data-provide="typeahead"/>
      <button type="submit" class="btn btn-warning" style="padding:7px"><i class="icon-search icon-white" ></i></button>
    </form>
    <div style="margin-bottom:5px"> 
      <ul class="pager">
        <li style="float:left; padding-left: 10px">
          <a href="altamira.html" style="color: rgb(25, 29, 31)">&larr;</a>
        </li>
        <li>
          <p style="height:30px; width: 270px; "> <b>Timeline</b></p>
        </li>
        <li style="float:right; padding-right: 10px">
          <a href="altamira.html" style="color: rgb(25, 29, 31)" >&rarr;</a>
        </li>
      </ul>
    </div>

        <div id="tweets"></div>
        <center>
          <button>Ver tweets</button>
        </center>
        
<script>
$(document).ready(function(){
  $("button").click(function(){
//   Cambiar el URL segun la IP en donde este corriendo el servidor.
    var data_file = "http://10.0.1.87:8000/smaf91/columnas/timeline/"
    var http_request = new XMLHttpRequest();

   http_request.onreadystatechange  = function(){
      if (http_request.readyState == 4  )
      {
        // Javascript function JSON.parse to parse JSON data
        var result = JSON.parse(http_request.responseText);

        // result variable now contains the data structure and can
        // be accessed as result.name and result.country.
//        alert(result);
//        alert(result)
       for (var i = 0, len=result.length; i<len; i++) {
      var items = []
      var color = ""
          items.push("<div style='border: 1px solid rgba(107, 104, 104, 0.31); border-radius: 4px'>");
          items.push("<table class ='table table-bordered' style='margin: 0px; border: 1px solid "+result[i]['color']+";"); 
          items.push("background:"+result[i]['color']+";'>");
          items.push("<tr>");
          items.push("<td rowspan='2' style='width: 40px; height: 40px; padding: 0px; border: "+result[i]['color']+";'>");
          items.push("<a href='perfil.html'>");
          items.push("<img src='"+result[i]['image']+"'/>");
          items.push("</a>");
          items.push("</td>");
          items.push("<td style='padding: 0px; border: "+ result[i]['color'] +";'><b>" + result[i]['name'] + "</b>");
          items.push(" @" + result[i]['screen_name'] + "</td>");
          items.push("<td style='border-color:"+result[i]['color']+";'>");
          items.push("<p style='text-align: right; margin-bottom: 0px; padding: 0px'>7pm</p></td>");
          items.push("<td style='padding: 3px; border-color:" + result[i]['color'] + " ;'>");
          items.push("<center>");
          items.push("<div class='btn-group'>");
          items.push("<button class='btn' style='padding: 2px'>");
          items.push("<i class='icon-share-alt'></i>");
          items.push("</button>");
          items.push("<button class='btn' style='padding: 2px'>");
          items.push("<i class='icon-retweet'></i>");
          items.push("</button>");
          items.push("<button class='btn' style='padding: 2px'>");
          items.push("<i class='icon-star'></i>");
          items.push("</button>");
          items.push("<button class='btn' style='padding: 2px'>");
          items.push("<i class='icon-share'></i>");
          items.push("</button>");
          items.push("</div>");
          items.push("</center>");
          items.push("</td>");
          items.push("</tr>");
          items.push("<td colspan='3' style='padding: 0px; border-color: "+result[i]['color']+";'>");
          items.push(" " + result[i]['text'] + " ");
          items.push("</td> </table>");
      
      $( "<ul/>", {
        "class":"my-new-list",
        "style": "margin: 0px 0px 0px 0px",
        html: items.join("")
      }).appendTo("#tweets");
    }
      }
   }
   http_request.open("GET", data_file, true);
   http_request.send();

  });
});
</script>

        
        <!-- Modal componer tweet     -->
        <div id="responsive" class="modal hide fade" tabindex="-1" data-width="760" style="margin-top: 10%">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
            <h3>Componer tweet</h3>
          </div>
          <div class="modal-body">
            <div class="row-fluid">
              <label> Contenido</label>
              <p><textarea class="span12" rows="3" style="resize: none;"></textarea></p>      
            </div>
            <center>
              <div class="btn-group">
                <button class="btn">
                  <img id="icon" src="img/camera.png"/>
                </button>
                <button class="btn" style="padding-top: 0px; padding-bottom: 0px">
                  <img src="img/gallery.png" style="height: 33px; width: 35px"/>
                </button>
                <div id="datetimepicker" class="input-append date" style="margin-bottom: 0px">
                  <button class="btn add-on" style="height: 35px; min-width: 50px;">
                    <img id="icon" src="img/clock.png"/>
                  </button>
                </div>
              </div>
            </center>
          </div>
          <div class="modal-footer">
            <button type="button" data-dismiss="modal" class="btn">Cerrar</button>
            <button type="button" class="btn btn-warning">Enviar</button>
          </div>
        </div>

        <!--     Modal componer DM-->
        <div id="dm" class="modal hide fade" tabindex="-1" data-width="760" style="margin-top: 10%">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
            <h3>Componer DM</h3>
          </div>
          <div class="modal-body">
            <div class="row-fluid">
              <label>Usuario</label>
              <p><input type="text" class="span12" placeholder="@Usuario"></input></p>
              <label> Contenido</label>
              <p><textarea class="span12" rows="2" style="resize: none;"></textarea></p>      
            </div>
            <center>
              <div class="btn-group">
                <button class="btn">
                  <img id="icon" src="img/camera.png"/>
                </button>
                <button class="btn" style="padding-top: 0px; padding-bottom: 0px">
                  <img src="img/gallery.png" style="height: 33px; width: 35px"/>
                </button>
<!--            <div id="datetimepicker" class="input-append date" style="margin-bottom: 0px">
              <button class="btn add-on" style="height: 35px; min-width: 50px;">
                <img id="icon" src="img/clock.png"/>
              </button>
            </div>-->
          </div>
        </center>
      </div>
      <div class="modal-footer">
        <button type="button" data-dismiss="modal" class="btn">Cerrar</button>
        <button type="button" class="btn btn-warning">Enviar</button>
      </div>
    </div>     
  </div>

  <script type="text/javascript">
  $('#datetimepicker').datetimepicker({
    format: 'dd/MM/yyyy hh:mm:ss',
    language: 'pt-BR'
  });
  </script>
  
  <script>
  var mySource = [{ id: 1, name: 'Lorem Ipsum'},
  { id: 2, name: '@loremipsum'},
  { id: 3, name: 'Lorem Altamira'}, 
  { id: 4, name: '@loremaltamira'}, 
  { id: 5, name: 'Altamira Ipsum'},
  { id: 6, name: '@altamiraipsum'},
  { id: 7, name: '#SOSUniVE'},
  { id: 8, name: '#CI4325'},
  { id: 9, name: '#proyectointerfaces'}];

  $('#searchbar').typeahead({
    source: mySource
  });
  </script>
  
</body>
</html>

